{"remainingRequest":"/Users/coulson/go/src/go-micro-gateway/go_gateway_view_demo/node_modules/babel-loader/lib/index.js!/Users/coulson/go/src/go-micro-gateway/go_gateway_view_demo/node_modules/eslint-loader/index.js??ref--13-0!/Users/coulson/go/src/go-micro-gateway/go_gateway_view_demo/src/directive/clipboard/clipboard.js","dependencies":[{"path":"/Users/coulson/go/src/go-micro-gateway/go_gateway_view_demo/src/directive/clipboard/clipboard.js","mtime":1597304623979},{"path":"/Users/coulson/go/src/go-micro-gateway/go_gateway_view_demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/go_gateway_view_demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/go_gateway_view_demo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0lubmR5L3Z1ZS1jbGlwYm9hcmQyCnZhciBDbGlwYm9hcmQgPSByZXF1aXJlKCdjbGlwYm9hcmQnKTsKCmlmICghQ2xpcGJvYXJkKSB7CiAgdGhyb3cgbmV3IEVycm9yKCd5b3Ugc2hvdWxkIG5wbSBpbnN0YWxsIGBjbGlwYm9hcmRgIC0tc2F2ZSBhdCBmaXJzdCAnKTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoZWwsIGJpbmRpbmcpIHsKICAgIGlmIChiaW5kaW5nLmFyZyA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgIGVsLl92X2NsaXBib2FyZF9zdWNjZXNzID0gYmluZGluZy52YWx1ZTsKICAgIH0gZWxzZSBpZiAoYmluZGluZy5hcmcgPT09ICdlcnJvcicpIHsKICAgICAgZWwuX3ZfY2xpcGJvYXJkX2Vycm9yID0gYmluZGluZy52YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKGVsLCB7CiAgICAgICAgdGV4dDogZnVuY3Rpb24gdGV4dCgpIHsKICAgICAgICAgIHJldHVybiBiaW5kaW5nLnZhbHVlOwogICAgICAgIH0sCiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gYmluZGluZy5hcmcgPT09ICdjdXQnID8gJ2N1dCcgOiAnY29weSc7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgY2FsbGJhY2sgPSBlbC5fdl9jbGlwYm9hcmRfc3VjY2VzczsKICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICB9KTsKICAgICAgY2xpcGJvYXJkLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGNhbGxiYWNrID0gZWwuX3ZfY2xpcGJvYXJkX2Vycm9yOwogICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgIH0pOwogICAgICBlbC5fdl9jbGlwYm9hcmQgPSBjbGlwYm9hcmQ7CiAgICB9CiAgfSwKICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShlbCwgYmluZGluZykgewogICAgaWYgKGJpbmRpbmcuYXJnID09PSAnc3VjY2VzcycpIHsKICAgICAgZWwuX3ZfY2xpcGJvYXJkX3N1Y2Nlc3MgPSBiaW5kaW5nLnZhbHVlOwogICAgfSBlbHNlIGlmIChiaW5kaW5nLmFyZyA9PT0gJ2Vycm9yJykgewogICAgICBlbC5fdl9jbGlwYm9hcmRfZXJyb3IgPSBiaW5kaW5nLnZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgZWwuX3ZfY2xpcGJvYXJkLnRleHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGJpbmRpbmcudmFsdWU7CiAgICAgIH07CgogICAgICBlbC5fdl9jbGlwYm9hcmQuYWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBiaW5kaW5nLmFyZyA9PT0gJ2N1dCcgPyAnY3V0JyA6ICdjb3B5JzsKICAgICAgfTsKICAgIH0KICB9LAogIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKGVsLCBiaW5kaW5nKSB7CiAgICBpZiAoYmluZGluZy5hcmcgPT09ICdzdWNjZXNzJykgewogICAgICBkZWxldGUgZWwuX3ZfY2xpcGJvYXJkX3N1Y2Nlc3M7CiAgICB9IGVsc2UgaWYgKGJpbmRpbmcuYXJnID09PSAnZXJyb3InKSB7CiAgICAgIGRlbGV0ZSBlbC5fdl9jbGlwYm9hcmRfZXJyb3I7CiAgICB9IGVsc2UgewogICAgICBlbC5fdl9jbGlwYm9hcmQuZGVzdHJveSgpOwoKICAgICAgZGVsZXRlIGVsLl92X2NsaXBib2FyZDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/coulson/go/src/go-micro-gateway/go_gateway_view_demo/src/directive/clipboard/clipboard.js"],"names":["Clipboard","require","Error","bind","el","binding","arg","_v_clipboard_success","value","_v_clipboard_error","clipboard","text","action","on","e","callback","_v_clipboard","update","unbind","destroy"],"mappings":"AAAA;AACA,IAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,IAAI,CAACD,SAAL,EAAgB;AACd,QAAM,IAAIE,KAAJ,CAAU,qDAAV,CAAN;AACD;;AAED,eAAe;AACbC,EAAAA,IADa,gBACRC,EADQ,EACJC,OADI,EACK;AAChB,QAAIA,OAAO,CAACC,GAAR,KAAgB,SAApB,EAA+B;AAC7BF,MAAAA,EAAE,CAACG,oBAAH,GAA0BF,OAAO,CAACG,KAAlC;AACD,KAFD,MAEO,IAAIH,OAAO,CAACC,GAAR,KAAgB,OAApB,EAA6B;AAClCF,MAAAA,EAAE,CAACK,kBAAH,GAAwBJ,OAAO,CAACG,KAAhC;AACD,KAFM,MAEA;AACL,UAAME,SAAS,GAAG,IAAIV,SAAJ,CAAcI,EAAd,EAAkB;AAClCO,QAAAA,IADkC,kBAC3B;AAAE,iBAAON,OAAO,CAACG,KAAf;AAAsB,SADG;AAElCI,QAAAA,MAFkC,oBAEzB;AAAE,iBAAOP,OAAO,CAACC,GAAR,KAAgB,KAAhB,GAAwB,KAAxB,GAAgC,MAAvC;AAA+C;AAFxB,OAAlB,CAAlB;AAIAI,MAAAA,SAAS,CAACG,EAAV,CAAa,SAAb,EAAwB,UAAAC,CAAC,EAAI;AAC3B,YAAMC,QAAQ,GAAGX,EAAE,CAACG,oBAApB;AACAQ,QAAAA,QAAQ,IAAIA,QAAQ,CAACD,CAAD,CAApB,CAF2B,CAEH;AACzB,OAHD;AAIAJ,MAAAA,SAAS,CAACG,EAAV,CAAa,OAAb,EAAsB,UAAAC,CAAC,EAAI;AACzB,YAAMC,QAAQ,GAAGX,EAAE,CAACK,kBAApB;AACAM,QAAAA,QAAQ,IAAIA,QAAQ,CAACD,CAAD,CAApB,CAFyB,CAED;AACzB,OAHD;AAIAV,MAAAA,EAAE,CAACY,YAAH,GAAkBN,SAAlB;AACD;AACF,GArBY;AAsBbO,EAAAA,MAtBa,kBAsBNb,EAtBM,EAsBFC,OAtBE,EAsBO;AAClB,QAAIA,OAAO,CAACC,GAAR,KAAgB,SAApB,EAA+B;AAC7BF,MAAAA,EAAE,CAACG,oBAAH,GAA0BF,OAAO,CAACG,KAAlC;AACD,KAFD,MAEO,IAAIH,OAAO,CAACC,GAAR,KAAgB,OAApB,EAA6B;AAClCF,MAAAA,EAAE,CAACK,kBAAH,GAAwBJ,OAAO,CAACG,KAAhC;AACD,KAFM,MAEA;AACLJ,MAAAA,EAAE,CAACY,YAAH,CAAgBL,IAAhB,GAAuB,YAAW;AAAE,eAAON,OAAO,CAACG,KAAf;AAAsB,OAA1D;;AACAJ,MAAAA,EAAE,CAACY,YAAH,CAAgBJ,MAAhB,GAAyB,YAAW;AAAE,eAAOP,OAAO,CAACC,GAAR,KAAgB,KAAhB,GAAwB,KAAxB,GAAgC,MAAvC;AAA+C,OAArF;AACD;AACF,GA/BY;AAgCbY,EAAAA,MAhCa,kBAgCNd,EAhCM,EAgCFC,OAhCE,EAgCO;AAClB,QAAIA,OAAO,CAACC,GAAR,KAAgB,SAApB,EAA+B;AAC7B,aAAOF,EAAE,CAACG,oBAAV;AACD,KAFD,MAEO,IAAIF,OAAO,CAACC,GAAR,KAAgB,OAApB,EAA6B;AAClC,aAAOF,EAAE,CAACK,kBAAV;AACD,KAFM,MAEA;AACLL,MAAAA,EAAE,CAACY,YAAH,CAAgBG,OAAhB;;AACA,aAAOf,EAAE,CAACY,YAAV;AACD;AACF;AAzCY,CAAf","sourcesContent":["// Inspired by https://github.com/Inndy/vue-clipboard2\nconst Clipboard = require('clipboard')\nif (!Clipboard) {\n  throw new Error('you should npm install `clipboard` --save at first ')\n}\n\nexport default {\n  bind(el, binding) {\n    if (binding.arg === 'success') {\n      el._v_clipboard_success = binding.value\n    } else if (binding.arg === 'error') {\n      el._v_clipboard_error = binding.value\n    } else {\n      const clipboard = new Clipboard(el, {\n        text() { return binding.value },\n        action() { return binding.arg === 'cut' ? 'cut' : 'copy' }\n      })\n      clipboard.on('success', e => {\n        const callback = el._v_clipboard_success\n        callback && callback(e) // eslint-disable-line\n      })\n      clipboard.on('error', e => {\n        const callback = el._v_clipboard_error\n        callback && callback(e) // eslint-disable-line\n      })\n      el._v_clipboard = clipboard\n    }\n  },\n  update(el, binding) {\n    if (binding.arg === 'success') {\n      el._v_clipboard_success = binding.value\n    } else if (binding.arg === 'error') {\n      el._v_clipboard_error = binding.value\n    } else {\n      el._v_clipboard.text = function() { return binding.value }\n      el._v_clipboard.action = function() { return binding.arg === 'cut' ? 'cut' : 'copy' }\n    }\n  },\n  unbind(el, binding) {\n    if (binding.arg === 'success') {\n      delete el._v_clipboard_success\n    } else if (binding.arg === 'error') {\n      delete el._v_clipboard_error\n    } else {\n      el._v_clipboard.destroy()\n      delete el._v_clipboard\n    }\n  }\n}\n"]}]}