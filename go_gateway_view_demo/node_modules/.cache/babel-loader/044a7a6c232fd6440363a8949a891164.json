{"remainingRequest":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/coulson/go/src/go-micro-gateway/vue-element-admin/src/utils/error-log.js","dependencies":[{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/src/utils/error-log.js","mtime":1597304033221},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgaXNTdHJpbmcsIGlzQXJyYXkgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJzsKaW1wb3J0IHNldHRpbmdzIGZyb20gJ0Avc2V0dGluZ3MnOyAvLyB5b3UgY2FuIHNldCBpbiBzZXR0aW5ncy5qcwovLyBlcnJvckxvZzoncHJvZHVjdGlvbicgfCBbJ3Byb2R1Y3Rpb24nLCAnZGV2ZWxvcG1lbnQnXQoKdmFyIG5lZWRFcnJvckxvZyA9IHNldHRpbmdzLmVycm9yTG9nOwoKZnVuY3Rpb24gY2hlY2tOZWVkKCkgewogIHZhciBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOVjsKCiAgaWYgKGlzU3RyaW5nKG5lZWRFcnJvckxvZykpIHsKICAgIHJldHVybiBlbnYgPT09IG5lZWRFcnJvckxvZzsKICB9CgogIGlmIChpc0FycmF5KG5lZWRFcnJvckxvZykpIHsKICAgIHJldHVybiBuZWVkRXJyb3JMb2cuaW5jbHVkZXMoZW52KTsKICB9CgogIHJldHVybiBmYWxzZTsKfQoKaWYgKGNoZWNrTmVlZCgpKSB7CiAgVnVlLmNvbmZpZy5lcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoZXJyLCB2bSwgaW5mbywgYSkgewogICAgLy8gRG9uJ3QgYXNrIG1lIHdoeSBJIHVzZSBWdWUubmV4dFRpY2ssIGl0IGp1c3QgYSBoYWNrLgogICAgLy8gZGV0YWlsIHNlZSBodHRwczovL2ZvcnVtLnZ1ZWpzLm9yZy90L2Rpc3BhdGNoLWluLXZ1ZS1jb25maWctZXJyb3JoYW5kbGVyLWhhcy1zb21lLXByb2JsZW0vMjM1MDAKICAgIFZ1ZS5uZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdlcnJvckxvZy9hZGRFcnJvckxvZycsIHsKICAgICAgICBlcnI6IGVyciwKICAgICAgICB2bTogdm0sCiAgICAgICAgaW5mbzogaW5mbywKICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmCiAgICAgIH0pOwogICAgICBjb25zb2xlLmVycm9yKGVyciwgaW5mbyk7CiAgICB9KTsKICB9Owp9"},{"version":3,"sources":["/Users/coulson/go/src/go-micro-gateway/vue-element-admin/src/utils/error-log.js"],"names":["Vue","store","isString","isArray","settings","needErrorLog","errorLog","checkNeed","env","process","NODE_ENV","includes","config","errorHandler","err","vm","info","a","nextTick","dispatch","url","window","location","href","console","error"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,kBAAlC;AACA,OAAOC,QAAP,MAAqB,YAArB,C,CAEA;AACA;;IACkBC,Y,GAAiBD,Q,CAA3BE,Q;;AAER,SAASC,SAAT,GAAqB;AACnB,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAxB;;AACA,MAAIR,QAAQ,CAACG,YAAD,CAAZ,EAA4B;AAC1B,WAAOG,GAAG,KAAKH,YAAf;AACD;;AACD,MAAIF,OAAO,CAACE,YAAD,CAAX,EAA2B;AACzB,WAAOA,YAAY,CAACM,QAAb,CAAsBH,GAAtB,CAAP;AACD;;AACD,SAAO,KAAP;AACD;;AAED,IAAID,SAAS,EAAb,EAAiB;AACfP,EAAAA,GAAG,CAACY,MAAJ,CAAWC,YAAX,GAA0B,UAASC,GAAT,EAAcC,EAAd,EAAkBC,IAAlB,EAAwBC,CAAxB,EAA2B;AACrD;AACA;AACEjB,IAAAA,GAAG,CAACkB,QAAJ,CAAa,YAAM;AACjBjB,MAAAA,KAAK,CAACkB,QAAN,CAAe,sBAAf,EAAuC;AACrCL,QAAAA,GAAG,EAAHA,GADqC;AAErCC,QAAAA,EAAE,EAAFA,EAFqC;AAGrCC,QAAAA,IAAI,EAAJA,IAHqC;AAIrCI,QAAAA,GAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC;AAJgB,OAAvC;AAMAC,MAAAA,OAAO,CAACC,KAAR,CAAcX,GAAd,EAAmBE,IAAnB;AACD,KARD;AASD,GAZD;AAaD","sourcesContent":["import Vue from 'vue'\nimport store from '@/store'\nimport { isString, isArray } from '@/utils/validate'\nimport settings from '@/settings'\n\n// you can set in settings.js\n// errorLog:'production' | ['production', 'development']\nconst { errorLog: needErrorLog } = settings\n\nfunction checkNeed() {\n  const env = process.env.NODE_ENV\n  if (isString(needErrorLog)) {\n    return env === needErrorLog\n  }\n  if (isArray(needErrorLog)) {\n    return needErrorLog.includes(env)\n  }\n  return false\n}\n\nif (checkNeed()) {\n  Vue.config.errorHandler = function(err, vm, info, a) {\n  // Don't ask me why I use Vue.nextTick, it just a hack.\n  // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\n    Vue.nextTick(() => {\n      store.dispatch('errorLog/addErrorLog', {\n        err,\n        vm,\n        info,\n        url: window.location.href\n      })\n      console.error(err, info)\n    })\n  }\n}\n"]}]}