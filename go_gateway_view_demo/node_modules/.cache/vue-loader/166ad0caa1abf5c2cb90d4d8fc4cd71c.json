{"remainingRequest":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/coulson/go/src/go-micro-gateway/vue-element-admin/src/components/DragSelect/index.vue?vue&type=style&index=0&id=11901ffa&lang=scss&scoped=true&","dependencies":[{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/src/components/DragSelect/index.vue","mtime":1597304033201},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/coulson/go/src/go-micro-gateway/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmRyYWctc2VsZWN0IHsKICA6OnYtZGVlcCB7CiAgICAuc29ydGFibGUtZ2hvc3QgewogICAgICBvcGFjaXR5OiAuODsKICAgICAgY29sb3I6ICNmZmYgIWltcG9ydGFudDsKICAgICAgYmFja2dyb3VuZDogIzQyYjk4MyAhaW1wb3J0YW50OwogICAgfQoKICAgIC5lbC10YWcgewogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/DragSelect","sourcesContent":["<template>\n  <el-select ref=\"dragSelect\" v-model=\"selectVal\" v-bind=\"$attrs\" class=\"drag-select\" multiple v-on=\"$listeners\">\n    <slot />\n  </el-select>\n</template>\n\n<script>\nimport Sortable from 'sortablejs'\n\nexport default {\n  name: 'DragSelect',\n  props: {\n    value: {\n      type: Array,\n      required: true\n    }\n  },\n  computed: {\n    selectVal: {\n      get() {\n        return [...this.value]\n      },\n      set(val) {\n        this.$emit('input', [...val])\n      }\n    }\n  },\n  mounted() {\n    this.setSort()\n  },\n  methods: {\n    setSort() {\n      const el = this.$refs.dragSelect.$el.querySelectorAll('.el-select__tags > span')[0]\n      this.sortable = Sortable.create(el, {\n        ghostClass: 'sortable-ghost', // Class name for the drop placeholder,\n        setData: function(dataTransfer) {\n          dataTransfer.setData('Text', '')\n          // to avoid Firefox bug\n          // Detail see : https://github.com/RubaXa/Sortable/issues/1012\n        },\n        onEnd: evt => {\n          const targetRow = this.value.splice(evt.oldIndex, 1)[0]\n          this.value.splice(evt.newIndex, 0, targetRow)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.drag-select {\n  ::v-deep {\n    .sortable-ghost {\n      opacity: .8;\n      color: #fff !important;\n      background: #42b983 !important;\n    }\n\n    .el-tag {\n      cursor: pointer;\n    }\n  }\n}\n</style>\n"]}]}